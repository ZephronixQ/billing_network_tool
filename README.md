# billing_network_tool

ะัะธะฝััะพะฝะฝัะน CLI-ะธะฝััััะผะตะฝั ะดะปั ะดะธะฐะณะฝะพััะธะบะธ ONU ะฝะฐ OLT (ZTE ZXAN), ะพัะธะตะฝัะธัะพะฒะฐะฝะฝัะน ะฝะฐ ััะฐะฑะธะปัะฝัะน ัะฑะพั ะดะฐะฝะฝัั **ะทะฐ ะพะดะฝั Telnet-ัะตััะธั** ั ะฟะพัะปะตะดัััะธะผ ะฟะฐััะธะฝะณะพะผ.

ะัะพะตะบั ะฟัะตะดะฝะฐะทะฝะฐัะตะฝ ะดะปั ัะบัะฟะปัะฐัะฐัะธะธ ะฒ ัะตััั ะดะพัััะฟะฐ (GPON/FTTx) ะธ ัะตัะฐะตั ะทะฐะดะฐัะธ ะพะฟะตัะฐัะธะฒะฝะพะน ะดะธะฐะณะฝะพััะธะบะธ ะฐะฑะพะฝะตะฝััะบะพะณะพ ะพะฑะพััะดะพะฒะฐะฝะธั.

---

## ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ

* ะะพะธัะบ ONU ะฟะพ ัะตัะธะนะฝะพะผั ะฝะพะผะตัั
* ะะพะปััะตะฝะธะต ะฟะพััะฐ ะฟะพะดะบะปััะตะฝะธั (PON)
* ะกะฑะพั IP-ััะฐัััะฐ (IP / MAC / VLAN)
* ะะฝะฐะปะธะท DHCP snooping
* ะะพะปััะตะฝะธะต ะพะฟัะธัะตัะบะธั ััะพะฒะฝะตะน (PON power)
* ะะฟัะตะดะตะปะตะฝะธะต ััะฐัััะฐ ONU ะธ ะธะฝัะตััะตะนัะฐ
* ะะฟัะตะดะตะปะตะฝะธะต ัะบะพัะพััะธ ะธ ััะฐัะธะบะฐ
* ะะพะปััะตะฝะธะต ะดะตัะฐะปัะฝัั ะปะพะณะพะฒ (authpass / offline / cause)
* ะะพะปะฝะพัััั ะฐัะธะฝััะพะฝะฝะฐั ัะฐะฑะพัะฐ (asyncio)
* **ะะดะธะฝ ะทะฐะฟัะพั โ ะพะดะฝะฐ Telnet-ัะตััะธั โ ะพะดะธะฝ ะฑััะตั ะดะฐะฝะฝัั**

---

## ะะปััะตะฒัะต ะฐััะธัะตะบัััะฝัะต ะฟัะธะฝัะธะฟั

### 1. One Session โ One Request

ะะพัะปะต ะพะฟัะตะดะตะปะตะฝะธั ะธะฝัะตััะตะนัะฐ ONU **ะฒัะต ะบะพะผะฐะฝะดั ะฒัะฟะพะปะฝััััั ะพะดะฝะธะผ `send_bulk`**, ะฐ ะฒัะต ะฟะฐััะตัั ัะฐะฑะพัะฐัั **ัััะพะณะพ ะฟะพ ะพะดะฝะพะผั `raw_all` ะฑััะตัั**.

ะญัะพ ััััะฐะฝัะตั:

* race condition
* ะฟะพัะตัั ะฒัะฒะพะดะฐ ะพัะดะตะปัะฝัั ะบะพะผะฐะฝะด
* ะฝะตััะฐะฑะธะปัะฝะพััั IP-ะฟะฐััะธะฝะณะฐ
* ะทะฐะฒะธัะธะผะพััั ะพั ะฟะพััะดะบะฐ ะฒัะฟะพะปะฝะตะฝะธั

---

### 2. ะััััััะฒะธะต ะฟะพะฒัะพัะฝัั ะทะฐะฟัะพัะพะฒ

ะัะพะตะบั **ะฝะต ะธัะฟะพะปัะทัะตั**:

* ะฟะพะฒัะพัะฝัะต ะฟะพะฟััะบะธ
* sleep / retry
* ะฒัะพัะธัะฝัะต Telnet-ะฒัะทะพะฒั

ะกัะฐะฑะธะปัะฝะพััั ะดะพััะธะณะฐะตััั ะบะพััะตะบัะฝัะผ ะพะถะธะดะฐะฝะธะตะผ ะฟะพะปะฝะพะณะพ CLI-ะฒัะฒะพะดะฐ.

---

### 3. ะะฐะทะดะตะปะตะฝะธะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ

* `connection/` โ ััะฐะฝัะฟะพัั ะธ Telnet
* `commands/` โ ัะพะปัะบะพ CLI-ะบะพะผะฐะฝะดั
* `parsers/` โ ัะพะปัะบะพ ะฟะฐััะธะฝะณ ัะตะบััะฐ
* `adapter` โ orchestration ะปะพะณะธะบะฐ

---

## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```text
billing_network_tool/
โ
โโโ main.py
โ
โโโ cli/
โ   โโโ args.py
โ   โโโ help.py
โ
โโโ core/
โ   โโโ connection/
โ   โ   โโโ telnet.py
โ   โ
โ   โโโ operations/
โ       โโโ uncfg.py
โ       โโโ search.py
โ       โโโ ipoe/
โ       โโโ onu/
โ           โโโ adapter 
โ           โ   โโโ zte_zxan_olt.py
โ           โโโ commands/
โ           โ   โโโ zte_zxan.py
โ           โโโ parsers/
โ           โ   โโโ common.py
โ           โ   โโโ uncfg.py
โ           โ   โโโ search.py
โ           โ   โโโ ip_status.py
โ           โ   โโโ pon_power.py
โ           โ   โโโ speed.py
โ           โ   โโโ detail_logs.py
โ           โโโ tables/
โ               โโโ uncfg.py
โ               โโโ search.py
โ               โโโ ip_status.py
โ               โโโ pon_power.py
โ               โโโ oper_speed.py
โ               โโโ detail_logs.py
โ
โโโ config/
โ   โโโ secrets.py
โ
โโโ output/
โ   โโโ colors.py
โ   โโโ table_base.py
โ
โโโ requirements.txt
```

---

## ะัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

```bash
python3 main.py --sn XCTFAF21084E
```

---

## ะัะธะผะตั ะฒัะฒะพะดะฐ

```text
โ ONU FOUND
IP:        192.168.2.19
PORT:      1/1/1:1
SERIAL:    XCTFAF21084E

๐ IP STATUS
IP:    10.114.15.25
MAC:   0C14.11aa.88cf
VLAN:  2025

๐ก PON POWER
RX: -23.4 dBm ...
TX:  2.1 dBm  ...

โก SPEED / THROUGHPUT
Input:  98 Mbit/s
Output: 12 Mbit/s

๐ ONU DETAIL LOGS
Authpass / Offline / Cause
...
```

---

## ะะพะดะดะตัะถะธะฒะฐะตะผะพะต ะพะฑะพััะดะพะฒะฐะฝะธะต

* ZTE ZXAN OLT
* GPON ONU

---

## ะะณัะฐะฝะธัะตะฝะธั

* ะัะพะตะบั ะพัะธะตะฝัะธัะพะฒะฐะฝ ะฝะฐ **ZTE ZXAN CLI**
* ะะปั ะดััะณะธั ะฒะตะฝะดะพัะพะฒ ััะตะฑัะตััั ะพัะดะตะปัะฝัะน adapter
